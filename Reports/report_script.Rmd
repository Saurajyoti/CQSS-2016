---
title: "`r as.character(tenormore$Course[i])`"
date: |
  | Report was generated by Mikhail Balyasin on `r today_date`
output: 
  pdf_document:
    includes:
      before_body: header.tex
    latex_engine: xelatex
toc: yes
numbersections: yes
fig_caption: true
header-includes:
    - \usepackage{colortbl, xcolor, titling, fancyhdr, mdframed}
    - \usepackage[utf8]{inputenc}
    - \setlength{\tabcolsep}{3pt}
    - \definecolor{table-hl}{RGB}{90, 180, 172}
    - \pagestyle{fancy}
    - \lfoot{\includegraphics[width=0.75cm]{logo_ema.png}}
    - \cfoot{\fontsize{8}{12} \selectfont `r as.character(tenormore$Course[i])`}
    - \rfoot{\thepage}  
    - \input{header}
---

```{r, echo = FALSE}
#headers - http://tex.stackexchange.com/questions/139139/adding-headers-and-footers-using-pandoc
suppressWarnings(suppressPackageStartupMessages(library(ggplot2)))
suppressWarnings(suppressPackageStartupMessages(library(dplyr)))
suppressWarnings(suppressPackageStartupMessages(library(likert)))
suppressWarnings(suppressPackageStartupMessages(library(stringr)))
suppressWarnings(suppressPackageStartupMessages(library(scales)))
suppressWarnings(suppressPackageStartupMessages(library(psych)))
suppressWarnings(suppressPackageStartupMessages(library(grid)))
suppressWarnings(suppressPackageStartupMessages(library(RColorBrewer)))
suppressWarnings(suppressPackageStartupMessages(library(xtable)))
suppressWarnings(suppressPackageStartupMessages(library(tidyr)))
suppressWarnings(suppressPackageStartupMessages(library(rmarkdown)))
suppressWarnings(suppressPackageStartupMessages(library(reshape)))
suppressWarnings(suppressPackageStartupMessages(library(plyr)))
suppressWarnings(suppressPackageStartupMessages(library(reshape2)))




library(knitr)
library(markdown)
library(rmarkdown)
library(dplyr)
library(likert)
library(scales)
library(psych)
library(reshape)
library(grid)
library(RColorBrewer)
library(xtable)
library(tidyr)
options(xtable.comment = FALSE)
opts_knit$set(progress = F, verbose = F)
knitr::opts_chunk$set(echo=FALSE, warning=FALSE, message=FALSE, results = 'asis', dev = "cairo_pdf")
```

\pagebreak

#Demographics of respondents

##Start year
```{r}
kable(as.data.frame(table(course_dataset$A.4..When.did.you.start.your.EMJMD.)), col.names = c("Answer", "Frequency"))
```


#Supporting services

##Support received before the start of the Erasmus Mundus course

```{r, fig.height = figure_height("B.1.1", course_dataset)}
report_question("B.1.1", course_dataset)
```
```{r, fig.height = figure_height("I.1.1", course_dataset)}
universityprint("I.1.1", course_dataset)
```


##Helpfulness of units and people

```{r, fig.height = figure_height("B.2.1", course_dataset)}
report_question("B.2.1", course_dataset)
```
```{r, fig.height = figure_height("I.2.1", course_dataset)}
universityprint("I.2.1", course_dataset)
```

```{r, fig.height = figure_height("B.2.2", course_dataset)}
report_question("B.2.2", course_dataset)
```


#Assessment and feedback

##Module assessment

```{r, fig.height = figure_height("C.1", course_dataset)}
report_question("C.1", course_dataset)
```

```{r, fig.height = figure_height("I.3.1", course_dataset)}
universityprint("I.3.1", course_dataset)
```

#Teaching/learning and supervision

##Question about teaching/learning
```{r, fig.height = figure_height("I.4.1", course_dataset)}
universityprint("I.4.1", course_dataset)
```
```{r, fig.height = figure_height("E.2", course_dataset)}
report_question("E.2", course_dataset)
```
```{r, fig.height = figure_height("E.3", course_dataset)}
report_question("E.3", course_dataset)
```

#Skills

##Skills before
```{r, fig.height = figure_height("C.4.1", course_dataset)}
report_question("C.4.1", course_dataset)
```

##Skills after
```{r, fig.height = figure_height("C.4.2", course_dataset)}
report_question("C.4.2", course_dataset)
```

##Distribution of skills
```{r, fig.height = figure_height("C.4.1", course_dataset)}
plot_skill_diff(course_dataset)
```


##Discrimination
```{r, fig.height = figure_height("C.5.1", course_dataset)}
report_question("C.5.1", course_dataset)
```


#Internship/field experience and personal development

```{r, fig.height = figure_height("D.1.1", course_dataset)}
report_question("D.1.1", course_dataset)
```
```{r, fig.height = figure_height("E.4", course_dataset)}
report_question("E.4", course_dataset)
```


#Yes/no questions

##Did you recommend the program to other prospective students
```{r}
kable(as.data.frame(table(course_dataset$E.5..Please.answer.the.following.questions_Did.you.recommend.the.Erasmus.Mundus.program.to.other.prospective.students.)), col.names = c("Answer", "Frequency"))
```

##Are you still in contact with your supervisor
```{r}
kable(as.data.frame(table(course_dataset$E.5..Please.answer.the.following.questions_Are.you.still.in.contact.with.your.supervisor.)), col.names = c("Answer", "Frequency"))
```

##Are you still in contact with students
```{r}
kable(as.data.frame(table(course_dataset$E.5..Please.answer.the.following.questions_Are.you.still.in.contact.with.students.in.your.course.)), col.names = c("Answer", "Frequency"))
```

##Are you aware of the existence of EMA?
```{r}
kable(as.data.frame(table(course_dataset$K.1..Please.answer_Are.you.aware.of.the.existence.of.the.Erasmus.Mundus.Students.and.Alumni.Association.)), col.names = c("Answer", "Frequency"))
```

##Do you know that you can elect EMA programme representative?
```{r}
kable(as.data.frame(table(course_dataset$K.1..Please.answer_Are.you.aware.that.each.programme.can.elect.an.EMA.Programme.Representative.)), col.names = c("Answer", "Frequency"))
```
